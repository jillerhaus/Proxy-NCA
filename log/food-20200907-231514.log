2020-09-07 23:15:46,893 Training parameters: {'__module__': '__main__', 'dataset': 'food', 'config': 'config1.json', 'sz_embedding': 64, 'sz_batch': 128, 'nb_epochs': 15, 'gpu_id': 0, 'nb_workers': 12, 'with_nmi': False, 'scaling_x': 1.0, 'scaling_p': 1.0, 'lr_proxynca': 1, 'log_filename': 'food-20200907-231514', 'results_filename': 'food-results.csv', '__dict__': <attribute '__dict__' of 'args' objects>, '__weakref__': <attribute '__weakref__' of 'args' objects>, '__doc__': None, 'sz_embeddings': 128}
2020-09-07 23:15:46,894 Training for 15 epochs
2020-09-07 23:15:46,895 **Evaluating initial model.**
2020-09-07 23:19:11,672 R@1 : 41.623
2020-09-07 23:19:12,503 R@2 : 49.906
2020-09-07 23:19:13,343 R@4 : 58.943
2020-09-07 23:19:14,177 R@8 : 68.431
2020-09-07 23:21:00,408 Epoch: 0, loss: 3.062, time (seconds): 106.22.
2020-09-07 23:21:00,409 **Evaluating.**
2020-09-07 23:24:26,933 R@1 : 47.040
2020-09-07 23:24:27,707 R@2 : 56.014
2020-09-07 23:24:28,485 R@4 : 64.764
2020-09-07 23:24:29,260 R@8 : 72.954
2020-09-07 23:26:16,830 Epoch: 1, loss: 2.961, time (seconds): 107.51.
2020-09-07 23:26:16,832 **Evaluating.**
2020-09-07 23:29:31,553 R@1 : 45.261
2020-09-07 23:29:32,333 R@2 : 54.199
2020-09-07 23:29:33,105 R@4 : 63.452
2020-09-07 23:29:33,860 R@8 : 72.179
2020-09-07 23:31:19,461 Epoch: 2, loss: 2.907, time (seconds): 105.59.
2020-09-07 23:31:19,461 **Evaluating.**
2020-09-07 23:34:37,557 R@1 : 43.974
2020-09-07 23:34:38,348 R@2 : 53.108
2020-09-07 23:34:39,144 R@4 : 62.479
2020-09-07 23:34:39,923 R@8 : 71.450
2020-09-07 23:36:26,797 Epoch: 3, loss: 2.844, time (seconds): 106.87.
2020-09-07 23:36:26,799 **Evaluating.**
2020-09-07 23:39:43,916 R@1 : 41.965
2020-09-07 23:39:44,713 R@2 : 51.174
2020-09-07 23:39:45,506 R@4 : 60.735
2020-09-07 23:39:46,295 R@8 : 70.068
2020-09-07 23:41:33,342 Epoch: 4, loss: 2.821, time (seconds): 107.04.
2020-09-07 23:41:33,343 **Evaluating.**
2020-09-07 23:44:51,587 R@1 : 41.330
2020-09-07 23:44:52,367 R@2 : 50.576
2020-09-07 23:44:53,147 R@4 : 60.128
2020-09-07 23:44:53,953 R@8 : 69.220
2020-09-07 23:46:40,842 Epoch: 5, loss: 2.802, time (seconds): 106.89.
2020-09-07 23:46:40,843 **Evaluating.**
2020-09-07 23:49:59,039 R@1 : 41.161
2020-09-07 23:49:59,825 R@2 : 50.295
2020-09-07 23:50:00,632 R@4 : 60.081
2020-09-07 23:50:01,423 R@8 : 69.250
2020-09-07 23:51:49,058 Epoch: 6, loss: 2.778, time (seconds): 107.63.
2020-09-07 23:51:49,059 **Evaluating.**
2020-09-07 23:55:07,235 R@1 : 40.392
2020-09-07 23:55:08,005 R@2 : 49.543
2020-09-07 23:55:08,792 R@4 : 59.129
2020-09-07 23:55:09,578 R@8 : 68.501
2020-09-07 23:56:56,955 Epoch: 7, loss: 2.775, time (seconds): 107.37.
2020-09-07 23:56:56,955 **Evaluating.**
2020-09-08 00:00:12,171 R@1 : 39.649
2020-09-08 00:00:12,956 R@2 : 48.666
2020-09-08 00:00:13,748 R@4 : 58.540
2020-09-08 00:00:14,527 R@8 : 68.193
2020-09-08 00:02:01,344 Epoch: 8, loss: 2.726, time (seconds): 106.81.
2020-09-08 00:02:01,345 **Evaluating.**
2020-09-08 00:05:17,089 R@1 : 38.569
2020-09-08 00:05:17,870 R@2 : 47.644
2020-09-08 00:05:18,650 R@4 : 57.190
2020-09-08 00:05:19,422 R@8 : 66.457
2020-09-08 00:07:05,653 Epoch: 9, loss: 2.724, time (seconds): 106.23.
2020-09-08 00:07:05,654 **Evaluating.**
2020-09-08 00:10:20,060 R@1 : 37.997
2020-09-08 00:10:20,836 R@2 : 46.918
2020-09-08 00:10:21,628 R@4 : 56.687
2020-09-08 00:10:22,406 R@8 : 66.390
2020-09-08 00:12:08,917 Epoch: 10, loss: 2.718, time (seconds): 106.51.
2020-09-08 00:12:08,918 **Evaluating.**
2020-09-08 00:15:23,366 R@1 : 37.889
2020-09-08 00:15:24,139 R@2 : 47.026
2020-09-08 00:15:24,905 R@4 : 56.879
2020-09-08 00:15:25,685 R@8 : 66.631
2020-09-08 00:17:12,768 Epoch: 11, loss: 2.686, time (seconds): 107.08.
2020-09-08 00:17:12,769 **Evaluating.**
2020-09-08 00:20:28,161 R@1 : 37.468
2020-09-08 00:20:29,001 R@2 : 46.309
2020-09-08 00:20:29,854 R@4 : 56.380
2020-09-08 00:20:30,693 R@8 : 66.018
2020-09-08 00:22:17,639 Epoch: 12, loss: 2.696, time (seconds): 106.94.
2020-09-08 00:22:17,640 **Evaluating.**
2020-09-08 00:25:29,950 R@1 : 37.495
2020-09-08 00:25:30,700 R@2 : 46.613
2020-09-08 00:25:31,443 R@4 : 56.420
2020-09-08 00:25:32,195 R@8 : 66.015
2020-09-08 00:27:17,719 Epoch: 13, loss: 2.680, time (seconds): 105.52.
2020-09-08 00:27:17,720 **Evaluating.**
2020-09-08 00:30:31,091 R@1 : 37.352
2020-09-08 00:30:31,893 R@2 : 46.442
2020-09-08 00:30:32,656 R@4 : 55.898
2020-09-08 00:30:33,411 R@8 : 65.147
2020-09-08 00:32:20,533 Epoch: 14, loss: 2.671, time (seconds): 107.12.
2020-09-08 00:32:20,533 **Evaluating.**
2020-09-08 00:35:36,353 R@1 : 36.229
2020-09-08 00:35:37,148 R@2 : 45.191
2020-09-08 00:35:37,925 R@4 : 55.015
2020-09-08 00:35:38,691 R@8 : 64.686
2020-09-08 00:35:38,697 Total training time (minutes): 79.86.
2020-09-08 00:35:40,999 Training parameters: {'__module__': '__main__', 'dataset': 'food', 'config': 'config1.json', 'sz_embedding': 64, 'sz_batch': 128, 'nb_epochs': 15, 'gpu_id': 0, 'nb_workers': 12, 'with_nmi': False, 'scaling_x': 1.0, 'scaling_p': 3.0, 'lr_proxynca': 1, 'log_filename': 'food-20200907-231514', 'results_filename': 'food-results.csv', '__dict__': <attribute '__dict__' of 'args' objects>, '__weakref__': <attribute '__weakref__' of 'args' objects>, '__doc__': None, 'sz_embeddings': 128}
2020-09-08 00:35:41,000 Training for 15 epochs
2020-09-08 00:35:41,004 **Evaluating initial model.**
2020-09-08 00:38:53,384 R@1 : 41.762
2020-09-08 00:38:54,184 R@2 : 50.097
2020-09-08 00:38:54,968 R@4 : 59.338
2020-09-08 00:38:55,787 R@8 : 68.878
2020-09-08 00:40:43,411 Epoch: 0, loss: 2.230, time (seconds): 107.62.
2020-09-08 00:40:43,413 **Evaluating.**
2020-09-08 00:44:11,450 R@1 : 50.094
2020-09-08 00:44:12,227 R@2 : 59.083
2020-09-08 00:44:13,002 R@4 : 67.751
2020-09-08 00:44:13,778 R@8 : 75.741
2020-09-08 00:46:08,224 Epoch: 1, loss: 2.061, time (seconds): 114.44.
2020-09-08 00:46:08,225 **Evaluating.**
2020-09-08 00:49:49,714 R@1 : 50.077
2020-09-08 00:49:50,507 R@2 : 59.231
2020-09-08 00:49:51,282 R@4 : 67.737
2020-09-08 00:49:52,061 R@8 : 75.817
2020-09-08 00:51:49,326 Epoch: 2, loss: 1.920, time (seconds): 117.25.
2020-09-08 00:51:49,327 **Evaluating.**
2020-09-08 00:55:19,769 R@1 : 50.184
2020-09-08 00:55:20,542 R@2 : 58.972
2020-09-08 00:55:21,317 R@4 : 67.772
2020-09-08 00:55:22,078 R@8 : 75.491
2020-09-08 00:57:06,697 Epoch: 3, loss: 1.781, time (seconds): 104.62.
2020-09-08 00:57:06,699 **Evaluating.**
2020-09-08 01:00:26,903 R@1 : 49.122
2020-09-08 01:00:27,665 R@2 : 57.982
2020-09-08 01:00:28,411 R@4 : 66.695
2020-09-08 01:00:29,168 R@8 : 74.882
2020-09-08 01:02:14,934 Epoch: 4, loss: 1.747, time (seconds): 105.76.
2020-09-08 01:02:14,935 **Evaluating.**
2020-09-08 01:05:37,595 R@1 : 48.776
2020-09-08 01:05:38,365 R@2 : 57.706
2020-09-08 01:05:39,142 R@4 : 66.582
2020-09-08 01:05:39,944 R@8 : 74.716
2020-09-08 01:07:23,210 Epoch: 5, loss: 1.700, time (seconds): 103.26.
2020-09-08 01:07:23,211 **Evaluating.**
2020-09-08 01:10:34,453 R@1 : 48.277
2020-09-08 01:10:35,257 R@2 : 57.466
2020-09-08 01:10:36,029 R@4 : 66.320
2020-09-08 01:10:36,841 R@8 : 74.411
2020-09-08 01:12:19,387 Epoch: 6, loss: 1.639, time (seconds): 102.54.
2020-09-08 01:12:19,388 **Evaluating.**
2020-09-08 01:15:30,525 R@1 : 47.505
2020-09-08 01:15:31,273 R@2 : 56.194
2020-09-08 01:15:32,021 R@4 : 64.967
2020-09-08 01:15:32,772 R@8 : 73.384
2020-09-08 01:17:14,564 Epoch: 7, loss: 1.595, time (seconds): 101.79.
2020-09-08 01:17:14,565 **Evaluating.**
2020-09-08 01:20:23,975 R@1 : 47.836
2020-09-08 01:20:24,727 R@2 : 56.627
2020-09-08 01:20:25,472 R@4 : 65.171
2020-09-08 01:20:26,221 R@8 : 73.619
2020-09-08 01:22:07,512 Epoch: 8, loss: 1.560, time (seconds): 101.29.
2020-09-08 01:22:07,512 **Evaluating.**
2020-09-08 01:25:17,962 R@1 : 46.515
2020-09-08 01:25:18,702 R@2 : 55.459
2020-09-08 01:25:19,444 R@4 : 64.033
2020-09-08 01:25:20,198 R@8 : 72.382
2020-09-08 01:27:01,618 Epoch: 9, loss: 1.521, time (seconds): 101.42.
2020-09-08 01:27:01,619 **Evaluating.**
2020-09-08 01:30:12,152 R@1 : 46.460
2020-09-08 01:30:12,898 R@2 : 55.593
2020-09-08 01:30:13,656 R@4 : 64.683
2020-09-08 01:30:14,401 R@8 : 72.757
2020-09-08 01:31:56,353 Epoch: 10, loss: 1.493, time (seconds): 101.95.
2020-09-08 01:31:56,354 **Evaluating.**
2020-09-08 01:35:04,711 R@1 : 45.896
2020-09-08 01:35:05,466 R@2 : 54.713
2020-09-08 01:35:06,225 R@4 : 63.455
2020-09-08 01:35:06,979 R@8 : 72.092
2020-09-08 01:36:48,042 Epoch: 11, loss: 1.441, time (seconds): 101.06.
2020-09-08 01:36:48,043 **Evaluating.**
2020-09-08 01:39:59,629 R@1 : 45.551
2020-09-08 01:40:00,377 R@2 : 54.249
2020-09-08 01:40:01,124 R@4 : 63.362
2020-09-08 01:40:01,869 R@8 : 72.141
2020-09-08 01:41:43,523 Epoch: 12, loss: 1.399, time (seconds): 101.65.
2020-09-08 01:41:43,524 **Evaluating.**
2020-09-08 01:44:54,478 R@1 : 44.636
2020-09-08 01:44:55,228 R@2 : 53.651
2020-09-08 01:44:55,988 R@4 : 62.642
2020-09-08 01:44:56,734 R@8 : 71.166
2020-09-08 01:46:38,657 Epoch: 13, loss: 1.419, time (seconds): 101.92.
2020-09-08 01:46:38,658 **Evaluating.**
2020-09-08 01:49:48,655 R@1 : 43.931
2020-09-08 01:49:49,397 R@2 : 52.655
2020-09-08 01:49:50,159 R@4 : 61.614
2020-09-08 01:49:50,916 R@8 : 70.280
2020-09-08 01:51:32,789 Epoch: 14, loss: 1.375, time (seconds): 101.87.
2020-09-08 01:51:32,790 **Evaluating.**
2020-09-08 01:54:43,806 R@1 : 44.123
2020-09-08 01:54:44,555 R@2 : 52.855
2020-09-08 01:54:45,304 R@4 : 61.701
2020-09-08 01:54:46,046 R@8 : 70.330
2020-09-08 01:54:46,050 Total training time (minutes): 79.08.
2020-09-08 01:54:48,227 Training parameters: {'__module__': '__main__', 'dataset': 'food', 'config': 'config1.json', 'sz_embedding': 64, 'sz_batch': 128, 'nb_epochs': 15, 'gpu_id': 0, 'nb_workers': 12, 'with_nmi': False, 'scaling_x': 1.0, 'scaling_p': 8.0, 'lr_proxynca': 1, 'log_filename': 'food-20200907-231514', 'results_filename': 'food-results.csv', '__dict__': <attribute '__dict__' of 'args' objects>, '__weakref__': <attribute '__weakref__' of 'args' objects>, '__doc__': None, 'sz_embeddings': 128}
2020-09-08 01:54:48,227 Training for 15 epochs
2020-09-08 01:54:48,231 **Evaluating initial model.**
2020-09-08 01:57:37,446 R@1 : 41.780
2020-09-08 01:57:38,201 R@2 : 49.990
2020-09-08 01:57:38,953 R@4 : 58.897
2020-09-08 01:57:39,706 R@8 : 68.344
2020-09-08 01:59:21,859 Epoch: 0, loss: 2.552, time (seconds): 102.15.
2020-09-08 01:59:21,860 **Evaluating.**
2020-09-08 02:02:23,658 R@1 : 43.394
2020-09-08 02:02:24,423 R@2 : 52.594
2020-09-08 02:02:25,176 R@4 : 62.209
2020-09-08 02:02:25,929 R@8 : 71.621
2020-09-08 02:04:07,648 Epoch: 1, loss: 2.151, time (seconds): 101.72.
2020-09-08 02:04:07,648 **Evaluating.**
2020-09-08 02:07:15,235 R@1 : 48.483
2020-09-08 02:07:15,995 R@2 : 57.611
2020-09-08 02:07:16,751 R@4 : 66.692
2020-09-08 02:07:17,500 R@8 : 75.175
2020-09-08 02:08:59,096 Epoch: 2, loss: 2.045, time (seconds): 101.59.
2020-09-08 02:08:59,097 **Evaluating.**
2020-09-08 02:12:07,731 R@1 : 49.836
2020-09-08 02:12:08,475 R@2 : 58.964
2020-09-08 02:12:09,220 R@4 : 67.990
2020-09-08 02:12:09,977 R@8 : 75.764
2020-09-08 02:13:51,554 Epoch: 3, loss: 1.795, time (seconds): 101.57.
2020-09-08 02:13:51,555 **Evaluating.**
2020-09-08 02:17:02,218 R@1 : 50.655
2020-09-08 02:17:02,958 R@2 : 59.599
2020-09-08 02:17:03,704 R@4 : 68.318
2020-09-08 02:17:04,473 R@8 : 76.351
2020-09-08 02:18:45,661 Epoch: 4, loss: 1.791, time (seconds): 101.19.
2020-09-08 02:18:45,662 **Evaluating.**
2020-09-08 02:21:55,275 R@1 : 50.469
2020-09-08 02:21:56,075 R@2 : 59.379
2020-09-08 02:21:56,887 R@4 : 68.236
2020-09-08 02:21:57,690 R@8 : 76.084
2020-09-08 02:23:39,900 Epoch: 5, loss: 1.681, time (seconds): 102.21.
2020-09-08 02:23:39,901 **Evaluating.**
2020-09-08 02:26:51,640 R@1 : 50.501
2020-09-08 02:26:52,387 R@2 : 59.469
2020-09-08 02:26:53,131 R@4 : 68.149
2020-09-08 02:26:53,878 R@8 : 76.078
2020-09-08 02:28:35,896 Epoch: 6, loss: 1.672, time (seconds): 102.02.
2020-09-08 02:28:35,897 **Evaluating.**
2020-09-08 02:31:47,817 R@1 : 50.820
2020-09-08 02:31:48,566 R@2 : 59.861
2020-09-08 02:31:49,309 R@4 : 68.550
2020-09-08 02:31:50,061 R@8 : 76.386
2020-09-08 02:33:31,348 Epoch: 7, loss: 1.593, time (seconds): 101.28.
2020-09-08 02:33:31,349 **Evaluating.**
2020-09-08 02:36:41,121 R@1 : 49.946
2020-09-08 02:36:41,860 R@2 : 58.821
2020-09-08 02:36:42,612 R@4 : 67.766
2020-09-08 02:36:43,353 R@8 : 76.011
2020-09-08 02:38:24,473 Epoch: 8, loss: 1.600, time (seconds): 101.12.
2020-09-08 02:38:24,474 **Evaluating.**
2020-09-08 02:41:34,723 R@1 : 49.871
2020-09-08 02:41:35,483 R@2 : 58.836
2020-09-08 02:41:36,237 R@4 : 67.824
2020-09-08 02:41:36,982 R@8 : 75.599
2020-09-08 02:43:18,723 Epoch: 9, loss: 1.508, time (seconds): 101.74.
2020-09-08 02:43:18,724 **Evaluating.**
2020-09-08 02:46:28,574 R@1 : 49.653
2020-09-08 02:46:29,326 R@2 : 58.641
2020-09-08 02:46:30,072 R@4 : 67.409
2020-09-08 02:46:30,824 R@8 : 75.532
2020-09-08 02:48:11,922 Epoch: 10, loss: 1.458, time (seconds): 101.09.
2020-09-08 02:48:11,922 **Evaluating.**
2020-09-08 02:51:21,036 R@1 : 48.869
2020-09-08 02:51:21,786 R@2 : 58.087
2020-09-08 02:51:22,537 R@4 : 66.674
2020-09-08 02:51:23,281 R@8 : 74.705
2020-09-08 02:53:04,479 Epoch: 11, loss: 1.449, time (seconds): 101.20.
2020-09-08 02:53:04,480 **Evaluating.**
2020-09-08 02:56:13,523 R@1 : 49.232
2020-09-08 02:56:14,275 R@2 : 57.945
2020-09-08 02:56:15,024 R@4 : 66.759
2020-09-08 02:56:15,773 R@8 : 74.803
2020-09-08 02:57:57,054 Epoch: 12, loss: 1.395, time (seconds): 101.28.
2020-09-08 02:57:57,055 **Evaluating.**
2020-09-08 03:01:07,792 R@1 : 49.154
2020-09-08 03:01:08,543 R@2 : 57.767
2020-09-08 03:01:09,295 R@4 : 66.727
2020-09-08 03:01:10,055 R@8 : 74.948
2020-09-08 03:02:51,585 Epoch: 13, loss: 1.363, time (seconds): 101.53.
2020-09-08 03:02:51,586 **Evaluating.**
2020-09-08 03:06:02,739 R@1 : 49.046
2020-09-08 03:06:03,485 R@2 : 57.817
2020-09-08 03:06:04,234 R@4 : 66.364
2020-09-08 03:06:04,979 R@8 : 74.710
2020-09-08 03:07:46,700 Epoch: 14, loss: 1.331, time (seconds): 101.72.
2020-09-08 03:07:46,701 **Evaluating.**
2020-09-08 03:10:58,187 R@1 : 48.161
2020-09-08 03:10:58,932 R@2 : 56.931
2020-09-08 03:10:59,685 R@4 : 65.963
2020-09-08 03:11:00,432 R@8 : 74.182
2020-09-08 03:11:00,435 Total training time (minutes): 76.20.
2020-09-08 03:11:02,591 Training parameters: {'__module__': '__main__', 'dataset': 'food', 'config': 'config1.json', 'sz_embedding': 64, 'sz_batch': 128, 'nb_epochs': 15, 'gpu_id': 0, 'nb_workers': 12, 'with_nmi': False, 'scaling_x': 3.0, 'scaling_p': 1.0, 'lr_proxynca': 1, 'log_filename': 'food-20200907-231514', 'results_filename': 'food-results.csv', '__dict__': <attribute '__dict__' of 'args' objects>, '__weakref__': <attribute '__weakref__' of 'args' objects>, '__doc__': None, 'sz_embeddings': 128}
2020-09-08 03:11:02,591 Training for 15 epochs
2020-09-08 03:11:02,595 **Evaluating initial model.**
2020-09-08 03:13:53,304 R@1 : 42.520
2020-09-08 03:13:54,054 R@2 : 50.875
2020-09-08 03:13:54,798 R@4 : 59.913
2020-09-08 03:13:55,552 R@8 : 69.595
2020-09-08 03:15:37,547 Epoch: 0, loss: 2.253, time (seconds): 101.99.
2020-09-08 03:15:37,548 **Evaluating.**
2020-09-08 03:18:44,405 R@1 : 50.097
2020-09-08 03:18:45,152 R@2 : 58.996
2020-09-08 03:18:45,894 R@4 : 67.963
2020-09-08 03:18:46,636 R@8 : 75.785
2020-09-08 03:20:28,514 Epoch: 1, loss: 2.002, time (seconds): 101.88.
2020-09-08 03:20:28,515 **Evaluating.**
2020-09-08 03:23:38,391 R@1 : 50.086
2020-09-08 03:23:39,139 R@2 : 59.083
2020-09-08 03:23:39,888 R@4 : 67.484
2020-09-08 03:23:40,638 R@8 : 75.654
2020-09-08 03:25:21,896 Epoch: 2, loss: 1.890, time (seconds): 101.26.
2020-09-08 03:25:21,897 **Evaluating.**
2020-09-08 03:28:32,628 R@1 : 50.007
2020-09-08 03:28:33,373 R@2 : 59.289
2020-09-08 03:28:34,124 R@4 : 67.833
2020-09-08 03:28:34,877 R@8 : 75.651
2020-09-08 03:30:16,523 Epoch: 3, loss: 1.853, time (seconds): 101.64.
2020-09-08 03:30:16,524 **Evaluating.**
2020-09-08 03:33:23,376 R@1 : 49.482
2020-09-08 03:33:24,135 R@2 : 58.673
2020-09-08 03:33:24,887 R@4 : 67.249
2020-09-08 03:33:25,648 R@8 : 75.192
2020-09-08 03:35:06,934 Epoch: 4, loss: 1.748, time (seconds): 101.28.
2020-09-08 03:35:06,934 **Evaluating.**
2020-09-08 03:38:16,994 R@1 : 49.563
2020-09-08 03:38:17,749 R@2 : 58.493
2020-09-08 03:38:18,515 R@4 : 67.008
2020-09-08 03:38:19,270 R@8 : 75.036
2020-09-08 03:40:00,935 Epoch: 5, loss: 1.704, time (seconds): 101.66.
2020-09-08 03:40:00,935 **Evaluating.**
2020-09-08 03:43:11,513 R@1 : 48.053
2020-09-08 03:43:12,258 R@2 : 56.902
2020-09-08 03:43:13,010 R@4 : 65.780
2020-09-08 03:43:13,753 R@8 : 73.825
2020-09-08 03:44:55,342 Epoch: 6, loss: 1.621, time (seconds): 101.58.
2020-09-08 03:44:55,342 **Evaluating.**
2020-09-08 03:48:05,348 R@1 : 48.257
2020-09-08 03:48:06,093 R@2 : 57.036
2020-09-08 03:48:06,850 R@4 : 66.140
2020-09-08 03:48:07,610 R@8 : 74.243
2020-09-08 03:49:48,948 Epoch: 7, loss: 1.622, time (seconds): 101.34.
2020-09-08 03:49:48,949 **Evaluating.**
2020-09-08 03:52:59,456 R@1 : 47.702
2020-09-08 03:53:00,205 R@2 : 56.658
2020-09-08 03:53:00,960 R@4 : 65.754
2020-09-08 03:53:01,714 R@8 : 73.956
2020-09-08 03:54:43,664 Epoch: 8, loss: 1.572, time (seconds): 101.95.
2020-09-08 03:54:43,665 **Evaluating.**
2020-09-08 03:57:54,160 R@1 : 46.645
2020-09-08 03:57:54,908 R@2 : 55.549
2020-09-08 03:57:55,664 R@4 : 64.401
2020-09-08 03:57:56,412 R@8 : 72.489
2020-09-08 03:59:37,899 Epoch: 9, loss: 1.525, time (seconds): 101.48.
2020-09-08 03:59:37,900 **Evaluating.**
2020-09-08 04:02:47,516 R@1 : 45.757
2020-09-08 04:02:48,279 R@2 : 54.577
2020-09-08 04:02:49,037 R@4 : 63.298
2020-09-08 04:02:49,794 R@8 : 71.796
2020-09-08 04:04:31,086 Epoch: 10, loss: 1.468, time (seconds): 101.29.
2020-09-08 04:04:31,087 **Evaluating.**
2020-09-08 04:07:42,128 R@1 : 45.458
2020-09-08 04:07:42,876 R@2 : 54.336
2020-09-08 04:07:43,633 R@4 : 63.281
2020-09-08 04:07:44,412 R@8 : 71.912
2020-09-08 04:09:25,478 Epoch: 11, loss: 1.432, time (seconds): 101.06.
2020-09-08 04:09:25,479 **Evaluating.**
2020-09-08 04:12:38,533 R@1 : 44.886
2020-09-08 04:12:39,284 R@2 : 53.691
2020-09-08 04:12:40,040 R@4 : 62.471
2020-09-08 04:12:40,793 R@8 : 71.227
2020-09-08 04:14:21,991 Epoch: 12, loss: 1.446, time (seconds): 101.20.
2020-09-08 04:14:21,992 **Evaluating.**
2020-09-08 04:17:34,587 R@1 : 44.616
2020-09-08 04:17:35,333 R@2 : 53.529
2020-09-08 04:17:36,094 R@4 : 62.604
2020-09-08 04:17:36,846 R@8 : 71.346
2020-09-08 04:19:18,519 Epoch: 13, loss: 1.420, time (seconds): 101.67.
2020-09-08 04:19:18,519 **Evaluating.**
2020-09-08 04:22:30,784 R@1 : 44.192
2020-09-08 04:22:31,535 R@2 : 52.954
2020-09-08 04:22:32,293 R@4 : 61.997
2020-09-08 04:22:33,050 R@8 : 70.335
2020-09-08 04:24:14,956 Epoch: 14, loss: 1.438, time (seconds): 101.90.
2020-09-08 04:24:14,956 **Evaluating.**
2020-09-08 04:27:25,738 R@1 : 43.757
2020-09-08 04:27:26,482 R@2 : 52.623
2020-09-08 04:27:27,241 R@4 : 61.190
2020-09-08 04:27:27,998 R@8 : 70.129
2020-09-08 04:27:28,001 Total training time (minutes): 76.42.
2020-09-08 04:27:30,059 Training parameters: {'__module__': '__main__', 'dataset': 'food', 'config': 'config1.json', 'sz_embedding': 64, 'sz_batch': 128, 'nb_epochs': 15, 'gpu_id': 0, 'nb_workers': 12, 'with_nmi': False, 'scaling_x': 3.0, 'scaling_p': 3.0, 'lr_proxynca': 1, 'log_filename': 'food-20200907-231514', 'results_filename': 'food-results.csv', '__dict__': <attribute '__dict__' of 'args' objects>, '__weakref__': <attribute '__weakref__' of 'args' objects>, '__doc__': None, 'sz_embeddings': 128}
2020-09-08 04:27:30,059 Training for 15 epochs
2020-09-08 04:27:30,061 **Evaluating initial model.**
2020-09-08 04:30:23,173 R@1 : 42.354
2020-09-08 04:30:23,936 R@2 : 50.698
2020-09-08 04:30:24,684 R@4 : 59.559
2020-09-08 04:30:25,440 R@8 : 69.528
2020-09-08 04:32:06,914 Epoch: 0, loss: 2.701, time (seconds): 101.47.
2020-09-08 04:32:06,915 **Evaluating.**
2020-09-08 04:35:08,378 R@1 : 42.299
2020-09-08 04:35:09,130 R@2 : 51.453
2020-09-08 04:35:09,881 R@4 : 61.034
2020-09-08 04:35:10,634 R@8 : 70.733
2020-09-08 04:36:52,669 Epoch: 1, loss: 2.211, time (seconds): 102.03.
2020-09-08 04:36:52,670 **Evaluating.**
2020-09-08 04:40:01,427 R@1 : 47.307
2020-09-08 04:40:02,178 R@2 : 56.751
2020-09-08 04:40:02,926 R@4 : 66.001
2020-09-08 04:40:03,680 R@8 : 74.533
2020-09-08 04:41:45,583 Epoch: 2, loss: 1.987, time (seconds): 101.90.
2020-09-08 04:41:45,584 **Evaluating.**
2020-09-08 04:44:55,508 R@1 : 49.099
2020-09-08 04:44:56,256 R@2 : 58.206
2020-09-08 04:44:57,014 R@4 : 67.400
2020-09-08 04:44:57,763 R@8 : 75.819
2020-09-08 04:46:38,794 Epoch: 3, loss: 1.902, time (seconds): 101.03.
2020-09-08 04:46:38,795 **Evaluating.**
2020-09-08 04:49:48,734 R@1 : 49.650
2020-09-08 04:49:49,479 R@2 : 58.755
2020-09-08 04:49:50,228 R@4 : 67.882
2020-09-08 04:49:50,979 R@8 : 75.889
2020-09-08 04:51:32,770 Epoch: 4, loss: 1.821, time (seconds): 101.79.
2020-09-08 04:51:32,771 **Evaluating.**
2020-09-08 04:54:43,129 R@1 : 49.717
2020-09-08 04:54:43,881 R@2 : 58.769
2020-09-08 04:54:44,631 R@4 : 67.688
2020-09-08 04:54:45,378 R@8 : 75.959
2020-09-08 04:56:27,013 Epoch: 5, loss: 1.742, time (seconds): 101.63.
2020-09-08 04:56:27,014 **Evaluating.**
2020-09-08 04:59:37,166 R@1 : 49.543
2020-09-08 04:59:37,910 R@2 : 58.969
2020-09-08 04:59:38,656 R@4 : 67.589
2020-09-08 04:59:39,402 R@8 : 75.750
2020-09-08 05:01:21,235 Epoch: 6, loss: 1.747, time (seconds): 101.83.
2020-09-08 05:01:21,236 **Evaluating.**
2020-09-08 05:04:33,433 R@1 : 50.025
2020-09-08 05:04:34,186 R@2 : 59.181
2020-09-08 05:04:34,930 R@4 : 67.929
2020-09-08 05:04:35,680 R@8 : 75.912
2020-09-08 05:06:17,468 Epoch: 7, loss: 1.610, time (seconds): 101.79.
2020-09-08 05:06:17,469 **Evaluating.**
2020-09-08 05:09:28,715 R@1 : 49.459
2020-09-08 05:09:29,463 R@2 : 58.476
2020-09-08 05:09:30,205 R@4 : 67.566
2020-09-08 05:09:30,947 R@8 : 75.904
2020-09-08 05:11:12,718 Epoch: 8, loss: 1.565, time (seconds): 101.77.
2020-09-08 05:11:12,719 **Evaluating.**
2020-09-08 05:14:25,796 R@1 : 49.633
2020-09-08 05:14:26,544 R@2 : 59.062
2020-09-08 05:14:27,289 R@4 : 67.769
2020-09-08 05:14:28,033 R@8 : 75.901
2020-09-08 05:16:09,317 Epoch: 9, loss: 1.544, time (seconds): 101.28.
2020-09-08 05:16:09,318 **Evaluating.**
2020-09-08 05:19:20,070 R@1 : 48.948
2020-09-08 05:19:20,808 R@2 : 58.377
2020-09-08 05:19:21,563 R@4 : 67.325
2020-09-08 05:19:22,335 R@8 : 75.558
2020-09-08 05:21:03,586 Epoch: 10, loss: 1.500, time (seconds): 101.25.
2020-09-08 05:21:03,586 **Evaluating.**
2020-09-08 05:24:15,486 R@1 : 48.823
2020-09-08 05:24:16,254 R@2 : 58.154
2020-09-08 05:24:16,995 R@4 : 67.090
2020-09-08 05:24:17,752 R@8 : 75.384
2020-09-08 05:25:59,039 Epoch: 11, loss: 1.454, time (seconds): 101.28.
2020-09-08 05:25:59,040 **Evaluating.**
2020-09-08 05:29:10,275 R@1 : 48.567
2020-09-08 05:29:11,035 R@2 : 57.619
2020-09-08 05:29:11,789 R@4 : 66.486
2020-09-08 05:29:12,536 R@8 : 74.980
2020-09-08 05:30:53,765 Epoch: 12, loss: 1.430, time (seconds): 101.23.
2020-09-08 05:30:53,765 **Evaluating.**
2020-09-08 05:34:05,539 R@1 : 48.791
2020-09-08 05:34:06,297 R@2 : 57.596
2020-09-08 05:34:07,047 R@4 : 66.390
2020-09-08 05:34:07,821 R@8 : 74.684
2020-09-08 05:35:49,482 Epoch: 13, loss: 1.394, time (seconds): 101.66.
2020-09-08 05:35:49,483 **Evaluating.**
2020-09-08 05:39:02,268 R@1 : 48.437
2020-09-08 05:39:03,012 R@2 : 57.405
2020-09-08 05:39:03,772 R@4 : 66.361
2020-09-08 05:39:04,525 R@8 : 74.737
2020-09-08 05:40:45,924 Epoch: 14, loss: 1.375, time (seconds): 101.39.
2020-09-08 05:40:45,924 **Evaluating.**
2020-09-08 05:43:59,029 R@1 : 47.847
2020-09-08 05:43:59,790 R@2 : 56.452
2020-09-08 05:44:00,539 R@4 : 65.554
2020-09-08 05:44:01,291 R@8 : 74.104
2020-09-08 05:44:01,294 Total training time (minutes): 76.52.
2020-09-08 05:44:03,422 Training parameters: {'__module__': '__main__', 'dataset': 'food', 'config': 'config1.json', 'sz_embedding': 64, 'sz_batch': 128, 'nb_epochs': 15, 'gpu_id': 0, 'nb_workers': 12, 'with_nmi': False, 'scaling_x': 3.0, 'scaling_p': 8.0, 'lr_proxynca': 1, 'log_filename': 'food-20200907-231514', 'results_filename': 'food-results.csv', '__dict__': <attribute '__dict__' of 'args' objects>, '__weakref__': <attribute '__weakref__' of 'args' objects>, '__doc__': None, 'sz_embeddings': 128}
2020-09-08 05:44:03,423 Training for 15 epochs
2020-09-08 05:44:03,426 **Evaluating initial model.**
2020-09-08 05:46:58,854 R@1 : 41.954
2020-09-08 05:46:59,607 R@2 : 50.306
2020-09-08 05:47:00,354 R@4 : 59.582
2020-09-08 05:47:01,104 R@8 : 69.215
2020-09-08 05:48:43,446 Epoch: 0, loss: 3.172, time (seconds): 102.34.
2020-09-08 05:48:43,447 **Evaluating.**
2020-09-08 05:51:40,931 R@1 : 39.657
2020-09-08 05:51:41,687 R@2 : 48.988
2020-09-08 05:51:42,445 R@4 : 58.897
2020-09-08 05:51:43,195 R@8 : 68.675
2020-09-08 05:53:24,733 Epoch: 1, loss: 2.389, time (seconds): 101.54.
2020-09-08 05:53:24,734 **Evaluating.**
2020-09-08 05:56:29,039 R@1 : 43.220
2020-09-08 05:56:29,794 R@2 : 52.455
2020-09-08 05:56:30,551 R@4 : 61.835
2020-09-08 05:56:31,300 R@8 : 71.093
2020-09-08 05:58:13,233 Epoch: 2, loss: 2.199, time (seconds): 101.93.
2020-09-08 05:58:13,234 **Evaluating.**
2020-09-08 06:01:18,669 R@1 : 44.866
2020-09-08 06:01:19,424 R@2 : 54.240
2020-09-08 06:01:20,173 R@4 : 63.725
2020-09-08 06:01:20,932 R@8 : 72.913
2020-09-08 06:03:02,672 Epoch: 3, loss: 2.054, time (seconds): 101.74.
2020-09-08 06:03:02,673 **Evaluating.**
2020-09-08 06:06:10,504 R@1 : 45.481
2020-09-08 06:06:11,257 R@2 : 54.635
2020-09-08 06:06:12,022 R@4 : 64.343
2020-09-08 06:06:12,788 R@8 : 73.265
2020-09-08 06:07:54,602 Epoch: 4, loss: 1.920, time (seconds): 101.81.
2020-09-08 06:07:54,603 **Evaluating.**
2020-09-08 06:11:01,163 R@1 : 46.692
2020-09-08 06:11:01,906 R@2 : 56.081
2020-09-08 06:11:02,696 R@4 : 65.423
2020-09-08 06:11:03,457 R@8 : 73.999
2020-09-08 06:12:45,251 Epoch: 5, loss: 1.829, time (seconds): 101.79.
2020-09-08 06:12:45,252 **Evaluating.**
2020-09-08 06:15:52,721 R@1 : 46.178
2020-09-08 06:15:53,474 R@2 : 55.346
2020-09-08 06:15:54,248 R@4 : 64.851
2020-09-08 06:15:55,020 R@8 : 73.709
2020-09-08 06:17:36,251 Epoch: 6, loss: 1.814, time (seconds): 101.23.
2020-09-08 06:17:36,252 **Evaluating.**
2020-09-08 06:20:46,115 R@1 : 46.004
2020-09-08 06:20:46,866 R@2 : 55.654
2020-09-08 06:20:47,619 R@4 : 65.266
2020-09-08 06:20:48,367 R@8 : 74.051
2020-09-08 06:22:29,539 Epoch: 7, loss: 1.730, time (seconds): 101.17.
2020-09-08 06:22:29,540 **Evaluating.**
2020-09-08 06:25:36,686 R@1 : 45.911
2020-09-08 06:25:37,439 R@2 : 55.442
2020-09-08 06:25:38,203 R@4 : 64.970
2020-09-08 06:25:38,945 R@8 : 73.567
2020-09-08 06:27:20,280 Epoch: 8, loss: 1.677, time (seconds): 101.33.
2020-09-08 06:27:20,281 **Evaluating.**
2020-09-08 06:30:27,805 R@1 : 45.403
2020-09-08 06:30:28,557 R@2 : 54.690
2020-09-08 06:30:29,299 R@4 : 64.154
2020-09-08 06:30:30,058 R@8 : 73.378
2020-09-08 06:32:12,002 Epoch: 9, loss: 1.620, time (seconds): 101.94.
2020-09-08 06:32:12,003 **Evaluating.**
2020-09-08 06:35:19,454 R@1 : 45.577
2020-09-08 06:35:20,218 R@2 : 54.946
2020-09-08 06:35:20,967 R@4 : 64.729
2020-09-08 06:35:21,710 R@8 : 73.552
2020-09-08 06:37:03,352 Epoch: 10, loss: 1.635, time (seconds): 101.64.
2020-09-08 06:37:03,352 **Evaluating.**
2020-09-08 06:40:10,079 R@1 : 45.687
2020-09-08 06:40:10,825 R@2 : 55.079
2020-09-08 06:40:11,576 R@4 : 64.744
2020-09-08 06:40:12,330 R@8 : 73.613
2020-09-08 06:41:53,934 Epoch: 11, loss: 1.571, time (seconds): 101.60.
2020-09-08 06:41:53,935 **Evaluating.**
2020-09-08 06:45:02,156 R@1 : 45.777
2020-09-08 06:45:02,907 R@2 : 54.858
2020-09-08 06:45:03,668 R@4 : 64.468
2020-09-08 06:45:04,424 R@8 : 73.549
2020-09-08 06:46:46,285 Epoch: 12, loss: 1.552, time (seconds): 101.86.
2020-09-08 06:46:46,286 **Evaluating.**
2020-09-08 06:49:55,603 R@1 : 45.313
2020-09-08 06:49:56,352 R@2 : 54.739
2020-09-08 06:49:57,104 R@4 : 64.250
2020-09-08 06:49:57,859 R@8 : 73.154
2020-09-08 06:51:39,968 Epoch: 13, loss: 1.492, time (seconds): 102.11.
2020-09-08 06:51:39,969 **Evaluating.**
2020-09-08 06:54:48,626 R@1 : 44.848
2020-09-08 06:54:49,381 R@2 : 53.932
2020-09-08 06:54:50,121 R@4 : 63.562
2020-09-08 06:54:50,874 R@8 : 72.669
2020-09-08 06:56:32,406 Epoch: 14, loss: 1.488, time (seconds): 101.53.
2020-09-08 06:56:32,407 **Evaluating.**
2020-09-08 06:59:42,404 R@1 : 44.930
2020-09-08 06:59:43,154 R@2 : 53.935
2020-09-08 06:59:43,905 R@4 : 63.533
2020-09-08 06:59:44,659 R@8 : 72.609
2020-09-08 06:59:44,662 Total training time (minutes): 75.69.
2020-09-08 06:59:46,711 Training parameters: {'__module__': '__main__', 'dataset': 'food', 'config': 'config1.json', 'sz_embedding': 64, 'sz_batch': 128, 'nb_epochs': 15, 'gpu_id': 0, 'nb_workers': 12, 'with_nmi': False, 'scaling_x': 8.0, 'scaling_p': 1.0, 'lr_proxynca': 1, 'log_filename': 'food-20200907-231514', 'results_filename': 'food-results.csv', '__dict__': <attribute '__dict__' of 'args' objects>, '__weakref__': <attribute '__weakref__' of 'args' objects>, '__doc__': None, 'sz_embeddings': 128}
2020-09-08 06:59:46,711 Training for 15 epochs
2020-09-08 06:59:46,713 **Evaluating initial model.**
2020-09-08 07:02:45,156 R@1 : 42.140
2020-09-08 07:02:45,918 R@2 : 50.411
2020-09-08 07:02:46,676 R@4 : 59.655
2020-09-08 07:02:47,425 R@8 : 69.151
2020-09-08 07:04:29,115 Epoch: 0, loss: 2.379, time (seconds): 101.69.
2020-09-08 07:04:29,116 **Evaluating.**
2020-09-08 07:07:31,372 R@1 : 47.014
2020-09-08 07:07:32,135 R@2 : 56.470
2020-09-08 07:07:32,890 R@4 : 65.568
2020-09-08 07:07:33,640 R@8 : 74.371
2020-09-08 07:09:15,553 Epoch: 1, loss: 2.137, time (seconds): 101.91.
2020-09-08 07:09:15,553 **Evaluating.**
2020-09-08 07:12:24,968 R@1 : 50.228
2020-09-08 07:12:25,712 R@2 : 59.309
2020-09-08 07:12:26,456 R@4 : 68.184
2020-09-08 07:12:27,209 R@8 : 76.226
2020-09-08 07:14:08,979 Epoch: 2, loss: 1.909, time (seconds): 101.77.
2020-09-08 07:14:08,980 **Evaluating.**
2020-09-08 07:17:18,914 R@1 : 51.450
2020-09-08 07:17:19,664 R@2 : 60.627
2020-09-08 07:17:20,415 R@4 : 69.235
2020-09-08 07:17:21,168 R@8 : 77.230
2020-09-08 07:19:03,439 Epoch: 3, loss: 1.821, time (seconds): 102.27.
2020-09-08 07:19:03,440 **Evaluating.**
2020-09-08 07:22:13,916 R@1 : 51.128
2020-09-08 07:22:14,666 R@2 : 60.073
2020-09-08 07:22:15,412 R@4 : 68.663
2020-09-08 07:22:16,164 R@8 : 76.746
2020-09-08 07:23:58,244 Epoch: 4, loss: 1.829, time (seconds): 102.08.
2020-09-08 07:23:58,244 **Evaluating.**
2020-09-08 07:27:10,281 R@1 : 51.456
2020-09-08 07:27:11,034 R@2 : 60.952
2020-09-08 07:27:11,789 R@4 : 69.366
2020-09-08 07:27:12,534 R@8 : 77.222
2020-09-08 07:28:54,255 Epoch: 5, loss: 1.735, time (seconds): 101.72.
2020-09-08 07:28:54,255 **Evaluating.**
2020-09-08 07:32:04,969 R@1 : 51.642
2020-09-08 07:32:05,711 R@2 : 60.566
2020-09-08 07:32:06,467 R@4 : 69.104
2020-09-08 07:32:07,218 R@8 : 76.807
2020-09-08 07:33:48,805 Epoch: 6, loss: 1.665, time (seconds): 101.58.
2020-09-08 07:33:48,806 **Evaluating.**
2020-09-08 07:36:59,812 R@1 : 50.660
2020-09-08 07:37:00,572 R@2 : 59.835
2020-09-08 07:37:01,320 R@4 : 68.332
2020-09-08 07:37:02,068 R@8 : 76.365
2020-09-08 07:38:44,167 Epoch: 7, loss: 1.580, time (seconds): 102.10.
2020-09-08 07:38:44,168 **Evaluating.**
2020-09-08 07:41:57,149 R@1 : 50.840
2020-09-08 07:41:57,892 R@2 : 59.962
2020-09-08 07:41:58,646 R@4 : 68.602
2020-09-08 07:41:59,391 R@8 : 76.397
2020-09-08 07:43:41,157 Epoch: 8, loss: 1.530, time (seconds): 101.76.
2020-09-08 07:43:41,158 **Evaluating.**
2020-09-08 07:46:53,061 R@1 : 50.687
2020-09-08 07:46:53,868 R@2 : 59.672
2020-09-08 07:46:54,678 R@4 : 68.335
2020-09-08 07:46:55,473 R@8 : 76.394
2020-09-08 07:48:37,318 Epoch: 9, loss: 1.524, time (seconds): 101.84.
2020-09-08 07:48:37,318 **Evaluating.**
2020-09-08 07:51:46,598 R@1 : 50.570
2020-09-08 07:51:47,356 R@2 : 59.190
2020-09-08 07:51:48,116 R@4 : 67.673
2020-09-08 07:51:48,876 R@8 : 75.651
2020-09-08 07:53:30,241 Epoch: 10, loss: 1.439, time (seconds): 101.36.
2020-09-08 07:53:30,242 **Evaluating.**
2020-09-08 07:56:41,313 R@1 : 50.042
2020-09-08 07:56:42,067 R@2 : 58.958
2020-09-08 07:56:42,815 R@4 : 67.380
2020-09-08 07:56:43,572 R@8 : 75.480
2020-09-08 07:58:25,783 Epoch: 11, loss: 1.417, time (seconds): 102.21.
2020-09-08 07:58:25,784 **Evaluating.**
2020-09-08 08:01:37,413 R@1 : 49.824
2020-09-08 08:01:38,166 R@2 : 58.496
2020-09-08 08:01:38,920 R@4 : 67.043
2020-09-08 08:01:39,669 R@8 : 74.998
2020-09-08 08:03:21,162 Epoch: 12, loss: 1.335, time (seconds): 101.49.
2020-09-08 08:03:21,163 **Evaluating.**
2020-09-08 08:06:32,535 R@1 : 49.502
2020-09-08 08:06:33,289 R@2 : 58.476
2020-09-08 08:06:34,033 R@4 : 66.971
2020-09-08 08:06:34,780 R@8 : 74.948
2020-09-08 08:08:16,740 Epoch: 13, loss: 1.364, time (seconds): 101.96.
2020-09-08 08:08:16,741 **Evaluating.**
2020-09-08 08:11:28,741 R@1 : 49.853
2020-09-08 08:11:29,500 R@2 : 58.392
2020-09-08 08:11:30,266 R@4 : 67.052
2020-09-08 08:11:31,033 R@8 : 75.128
2020-09-08 08:13:12,959 Epoch: 14, loss: 1.311, time (seconds): 101.92.
2020-09-08 08:13:12,960 **Evaluating.**
2020-09-08 08:16:26,187 R@1 : 49.174
2020-09-08 08:16:26,928 R@2 : 57.704
2020-09-08 08:16:27,685 R@4 : 66.306
2020-09-08 08:16:28,436 R@8 : 74.429
2020-09-08 08:16:28,439 Total training time (minutes): 76.70.
2020-09-08 08:16:30,519 Training parameters: {'__module__': '__main__', 'dataset': 'food', 'config': 'config1.json', 'sz_embedding': 64, 'sz_batch': 128, 'nb_epochs': 15, 'gpu_id': 0, 'nb_workers': 12, 'with_nmi': False, 'scaling_x': 8.0, 'scaling_p': 3.0, 'lr_proxynca': 1, 'log_filename': 'food-20200907-231514', 'results_filename': 'food-results.csv', '__dict__': <attribute '__dict__' of 'args' objects>, '__weakref__': <attribute '__weakref__' of 'args' objects>, '__doc__': None, 'sz_embeddings': 128}
2020-09-08 08:16:30,519 Training for 15 epochs
2020-09-08 08:16:30,521 **Evaluating initial model.**
2020-09-08 08:19:31,252 R@1 : 42.552
2020-09-08 08:19:32,006 R@2 : 50.782
2020-09-08 08:19:32,779 R@4 : 59.954
2020-09-08 08:19:33,530 R@8 : 69.363
2020-09-08 08:21:15,205 Epoch: 0, loss: 2.798, time (seconds): 101.67.
2020-09-08 08:21:15,206 **Evaluating.**
2020-09-08 08:24:13,770 R@1 : 42.009
2020-09-08 08:24:14,512 R@2 : 51.108
2020-09-08 08:24:15,260 R@4 : 60.825
2020-09-08 08:24:16,006 R@8 : 70.469
2020-09-08 08:25:58,155 Epoch: 1, loss: 2.273, time (seconds): 102.15.
2020-09-08 08:25:58,155 **Evaluating.**
2020-09-08 08:29:04,253 R@1 : 44.706
2020-09-08 08:29:05,001 R@2 : 54.095
2020-09-08 08:29:05,761 R@4 : 63.736
2020-09-08 08:29:06,523 R@8 : 72.858
2020-09-08 08:30:48,042 Epoch: 2, loss: 2.135, time (seconds): 101.52.
2020-09-08 08:30:48,043 **Evaluating.**
2020-09-08 08:33:56,042 R@1 : 46.471
2020-09-08 08:33:56,797 R@2 : 55.956
2020-09-08 08:33:57,555 R@4 : 65.246
2020-09-08 08:33:58,317 R@8 : 73.874
2020-09-08 08:35:40,127 Epoch: 3, loss: 1.999, time (seconds): 101.81.
2020-09-08 08:35:40,128 **Evaluating.**
2020-09-08 08:38:47,890 R@1 : 46.526
2020-09-08 08:38:48,636 R@2 : 55.970
2020-09-08 08:38:49,387 R@4 : 65.580
2020-09-08 08:38:50,140 R@8 : 74.199
2020-09-08 08:40:31,572 Epoch: 4, loss: 1.877, time (seconds): 101.43.
2020-09-08 08:40:31,573 **Evaluating.**
2020-09-08 08:43:40,469 R@1 : 46.921
2020-09-08 08:43:41,218 R@2 : 56.386
2020-09-08 08:43:41,964 R@4 : 65.484
2020-09-08 08:43:42,721 R@8 : 74.266
2020-09-08 08:45:24,252 Epoch: 5, loss: 1.843, time (seconds): 101.53.
2020-09-08 08:45:24,253 **Evaluating.**
2020-09-08 08:48:33,093 R@1 : 47.081
2020-09-08 08:48:33,849 R@2 : 56.682
2020-09-08 08:48:34,601 R@4 : 66.097
2020-09-08 08:48:35,367 R@8 : 74.435
2020-09-08 08:50:16,471 Epoch: 6, loss: 1.841, time (seconds): 101.10.
2020-09-08 08:50:16,472 **Evaluating.**
2020-09-08 08:53:24,752 R@1 : 47.487
2020-09-08 08:53:25,499 R@2 : 56.757
2020-09-08 08:53:26,255 R@4 : 66.251
2020-09-08 08:53:27,013 R@8 : 74.966
2020-09-08 08:55:09,177 Epoch: 7, loss: 1.729, time (seconds): 102.16.
2020-09-08 08:55:09,178 **Evaluating.**
2020-09-08 08:58:18,619 R@1 : 46.378
2020-09-08 08:58:19,385 R@2 : 55.970
2020-09-08 08:58:20,137 R@4 : 65.368
2020-09-08 08:58:20,886 R@8 : 73.953
2020-09-08 09:00:02,317 Epoch: 8, loss: 1.667, time (seconds): 101.43.
2020-09-08 09:00:02,318 **Evaluating.**
2020-09-08 09:03:10,950 R@1 : 47.342
2020-09-08 09:03:11,728 R@2 : 56.429
2020-09-08 09:03:12,469 R@4 : 65.769
2020-09-08 09:03:13,213 R@8 : 74.632
2020-09-08 09:04:54,544 Epoch: 9, loss: 1.660, time (seconds): 101.33.
2020-09-08 09:04:54,545 **Evaluating.**
2020-09-08 09:08:03,757 R@1 : 46.213
2020-09-08 09:08:04,533 R@2 : 55.695
2020-09-08 09:08:05,276 R@4 : 65.150
2020-09-08 09:08:06,042 R@8 : 73.988
2020-09-08 09:09:47,603 Epoch: 10, loss: 1.642, time (seconds): 101.56.
2020-09-08 09:09:47,603 **Evaluating.**
2020-09-08 09:12:57,697 R@1 : 45.989
2020-09-08 09:12:58,453 R@2 : 55.372
2020-09-08 09:12:59,217 R@4 : 64.967
2020-09-08 09:12:59,975 R@8 : 73.868
2020-09-08 09:14:42,498 Epoch: 11, loss: 1.527, time (seconds): 102.52.
2020-09-08 09:14:42,498 **Evaluating.**
2020-09-08 09:17:52,133 R@1 : 47.078
2020-09-08 09:17:52,882 R@2 : 56.220
2020-09-08 09:17:53,638 R@4 : 65.612
2020-09-08 09:17:54,406 R@8 : 74.252
2020-09-08 09:19:36,005 Epoch: 12, loss: 1.524, time (seconds): 101.60.
2020-09-08 09:19:36,006 **Evaluating.**
2020-09-08 09:22:44,942 R@1 : 45.667
2020-09-08 09:22:45,696 R@2 : 55.091
2020-09-08 09:22:46,454 R@4 : 64.410
2020-09-08 09:22:47,216 R@8 : 73.349
2020-09-08 09:24:29,046 Epoch: 13, loss: 1.498, time (seconds): 101.83.
2020-09-08 09:24:29,047 **Evaluating.**
2020-09-08 09:27:38,027 R@1 : 45.931
2020-09-08 09:27:38,785 R@2 : 55.265
2020-09-08 09:27:39,539 R@4 : 64.628
2020-09-08 09:27:40,298 R@8 : 73.358
2020-09-08 09:29:21,521 Epoch: 14, loss: 1.460, time (seconds): 101.22.
2020-09-08 09:29:21,522 **Evaluating.**
2020-09-08 09:32:31,838 R@1 : 45.139
2020-09-08 09:32:32,581 R@2 : 54.275
2020-09-08 09:32:33,339 R@4 : 63.725
2020-09-08 09:32:34,085 R@8 : 72.820
2020-09-08 09:32:34,088 Total training time (minutes): 76.06.
2020-09-08 09:32:36,290 Training parameters: {'__module__': '__main__', 'dataset': 'food', 'config': 'config1.json', 'sz_embedding': 64, 'sz_batch': 128, 'nb_epochs': 15, 'gpu_id': 0, 'nb_workers': 12, 'with_nmi': False, 'scaling_x': 8.0, 'scaling_p': 8.0, 'lr_proxynca': 1, 'log_filename': 'food-20200907-231514', 'results_filename': 'food-results.csv', '__dict__': <attribute '__dict__' of 'args' objects>, '__weakref__': <attribute '__weakref__' of 'args' objects>, '__doc__': None, 'sz_embeddings': 128}
2020-09-08 09:32:36,290 Training for 15 epochs
2020-09-08 09:32:36,294 **Evaluating initial model.**
2020-09-08 09:35:31,453 R@1 : 42.511
2020-09-08 09:35:32,205 R@2 : 51.023
2020-09-08 09:35:32,950 R@4 : 60.255
2020-09-08 09:35:33,702 R@8 : 69.729
2020-09-08 09:37:15,311 Epoch: 0, loss: 4.129, time (seconds): 101.61.
2020-09-08 09:37:15,312 **Evaluating.**
2020-09-08 09:40:13,186 R@1 : 40.607
2020-09-08 09:40:13,955 R@2 : 49.952
2020-09-08 09:40:14,719 R@4 : 59.756
2020-09-08 09:40:15,488 R@8 : 69.595
2020-09-08 09:41:56,655 Epoch: 1, loss: 2.597, time (seconds): 101.16.
2020-09-08 09:41:56,656 **Evaluating.**
2020-09-08 09:45:00,741 R@1 : 43.574
2020-09-08 09:45:01,489 R@2 : 52.969
2020-09-08 09:45:02,241 R@4 : 62.389
2020-09-08 09:45:03,006 R@8 : 71.604
2020-09-08 09:46:44,224 Epoch: 2, loss: 2.302, time (seconds): 101.22.
2020-09-08 09:46:44,225 **Evaluating.**
2020-09-08 09:49:51,775 R@1 : 45.168
2020-09-08 09:49:52,526 R@2 : 54.713
2020-09-08 09:49:53,288 R@4 : 63.963
2020-09-08 09:49:54,049 R@8 : 73.096
2020-09-08 09:51:35,195 Epoch: 3, loss: 2.238, time (seconds): 101.14.
2020-09-08 09:51:35,196 **Evaluating.**
2020-09-08 09:54:40,457 R@1 : 46.042
2020-09-08 09:54:41,207 R@2 : 55.163
2020-09-08 09:54:41,961 R@4 : 64.715
2020-09-08 09:54:42,714 R@8 : 73.738
2020-09-08 09:56:24,124 Epoch: 4, loss: 2.060, time (seconds): 101.41.
2020-09-08 09:56:24,125 **Evaluating.**
2020-09-08 09:59:31,057 R@1 : 46.782
2020-09-08 09:59:31,816 R@2 : 56.516
2020-09-08 09:59:32,589 R@4 : 65.760
2020-09-08 09:59:33,355 R@8 : 74.385
2020-09-08 10:01:14,712 Epoch: 5, loss: 1.985, time (seconds): 101.35.
2020-09-08 10:01:14,713 **Evaluating.**
2020-09-08 10:04:22,948 R@1 : 47.043
2020-09-08 10:04:23,709 R@2 : 56.383
2020-09-08 10:04:24,472 R@4 : 65.487
2020-09-08 10:04:25,223 R@8 : 74.138
2020-09-08 10:06:06,423 Epoch: 6, loss: 1.863, time (seconds): 101.20.
2020-09-08 10:06:06,424 **Evaluating.**
2020-09-08 10:09:12,942 R@1 : 46.433
2020-09-08 10:09:13,706 R@2 : 55.962
2020-09-08 10:09:14,451 R@4 : 65.182
2020-09-08 10:09:15,200 R@8 : 73.886
2020-09-08 10:10:56,916 Epoch: 7, loss: 1.815, time (seconds): 101.71.
2020-09-08 10:10:56,917 **Evaluating.**
2020-09-08 10:14:05,878 R@1 : 46.166
2020-09-08 10:14:06,631 R@2 : 55.259
2020-09-08 10:14:07,376 R@4 : 64.947
2020-09-08 10:14:08,128 R@8 : 74.051
2020-09-08 10:15:49,996 Epoch: 8, loss: 1.738, time (seconds): 101.87.
2020-09-08 10:15:49,997 **Evaluating.**
2020-09-08 10:18:58,441 R@1 : 46.878
2020-09-08 10:18:59,187 R@2 : 56.179
2020-09-08 10:18:59,941 R@4 : 65.647
2020-09-08 10:19:00,693 R@8 : 74.469
2020-09-08 10:20:42,312 Epoch: 9, loss: 1.695, time (seconds): 101.62.
2020-09-08 10:20:42,314 **Evaluating.**
2020-09-08 10:23:50,286 R@1 : 46.582
2020-09-08 10:23:51,035 R@2 : 55.718
2020-09-08 10:23:51,788 R@4 : 65.322
2020-09-08 10:23:52,537 R@8 : 74.298
2020-09-08 10:25:34,025 Epoch: 10, loss: 1.641, time (seconds): 101.49.
2020-09-08 10:25:34,026 **Evaluating.**
2020-09-08 10:28:42,909 R@1 : 46.666
2020-09-08 10:28:43,672 R@2 : 56.133
2020-09-08 10:28:44,431 R@4 : 65.275
2020-09-08 10:28:45,189 R@8 : 74.316
2020-09-08 10:30:26,155 Epoch: 11, loss: 1.622, time (seconds): 100.96.
2020-09-08 10:30:26,156 **Evaluating.**
2020-09-08 10:33:34,685 R@1 : 46.155
2020-09-08 10:33:35,445 R@2 : 55.532
2020-09-08 10:33:36,205 R@4 : 64.776
2020-09-08 10:33:36,959 R@8 : 73.889
2020-09-08 10:35:18,277 Epoch: 12, loss: 1.602, time (seconds): 101.31.
2020-09-08 10:35:18,277 **Evaluating.**
2020-09-08 10:38:27,235 R@1 : 46.114
2020-09-08 10:38:27,994 R@2 : 55.532
2020-09-08 10:38:28,770 R@4 : 64.918
2020-09-08 10:38:29,519 R@8 : 73.915
2020-09-08 10:40:11,072 Epoch: 13, loss: 1.533, time (seconds): 101.55.
2020-09-08 10:40:11,073 **Evaluating.**
2020-09-08 10:43:21,865 R@1 : 46.216
2020-09-08 10:43:22,631 R@2 : 55.433
2020-09-08 10:43:23,438 R@4 : 64.808
2020-09-08 10:43:24,277 R@8 : 73.732
2020-09-08 10:45:24,456 Epoch: 14, loss: 1.474, time (seconds): 120.18.
2020-09-08 10:45:24,458 **Evaluating.**
2020-09-08 10:49:16,004 R@1 : 45.580
2020-09-08 10:49:16,845 R@2 : 54.815
2020-09-08 10:49:17,660 R@4 : 64.070
2020-09-08 10:49:18,478 R@8 : 73.186
2020-09-08 10:49:18,484 Total training time (minutes): 76.70.
